!function(){var t=function(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}},e=t((function(t,e){t.exports=t=>{t.findRecent=function(){if($(".ts-played").removeClass("ts-played"),!this.config["use.recent"])return!1;$("#queue .songs .song").each((t,e)=>this.markRecent(e))},t.markRecent=function(t){let e=$(t).find(".title").text(),n=$(t).find(".details").text().split(" \u2022 ")[0];this.$room().metadata.songlog.forEach(i=>(t=>t.song==e&&t.artist==n)(i.metadata)&&$(t).addClass("ts-played"))},t.$on(["attach","list"],(function(){let t=$("#playlist-header .text")[0],e=window.playlist.fileids.length,n=t.innerHTML.split("<em>")[0];t.innerHTML=`${n}<em> ${e}</em>`})),t.$on(["attach","list","song"],(function(){let t=this.findRecent.bind(this);this.waitRecent&&clearTimeout(this.waitRecent),this.waitRecent=setTimeout(t,250)})),t.$on("update",(function(t,e){"use.recent"==t&&(this.$body("ts-recent",e),this.findRecent())}))}})),n=t((function(t,e){t.exports=t=>{t.$on("chat",(function(t){if(!this.config["use.stamps"])return;let e=t.target,n=this.getTime(!0);e&&!e.has(".ts-time").length&&e.prepend(`<div class="ts-time">${n}</div>`)})),t.$on("text",(function(t){t.target.children(".message:not(.stat):contains(' started playing \"')").each((t,e)=>$(e).addClass("stat"))})),t.$on("song",(function(t){if(!this.config["post.song"]||!t.last)return;let e=i(t.last),n=`${t.last.song} by ${t.last.artist}`;e&&this.$post({head:e,text:n,type:"stat"})})),t.$on("drop",(function(t){if(!this.config["post.spun"])return;let e=i(t.stat),n=`<strong>${t.user.name}</strong> is done spinning!`;return this.$post({head:e,text:n,type:"stat"})})),t.quickText=function(t){let e=n(this.config[t]),i=this.getWords(e,";;");i&&this.$batch(i)},t.qtbtn1=function(){this.quickText("qtbtn1")},t.qtbtn2=function(){this.quickText("qtbtn2")},t.qtbtn3=function(){this.quickText("qtbtn3")}};const n=function(t){return t.indexOf("||")<0?t:t.split("||")[1].trim()},i=(t={},e="")=>("love"in t&&(e+=t.love+"\u2764\ufe0f"),"hate"in t&&(e+=t.hate+"\ud83d\udc94"),"snag"in t&&(e+=t.snag+"\ud83d\udc96"),"spun"in t&&(e+=t.spun+"\u25b6\ufe0f"),e)})),i=t((function(t,e){t.exports=t=>{t.$on("log",(function(){let t=$("#tsLogs")[0]||{},e=this.$logs.map(n.ITEM);t.innerHTML=e.reverse().join(""),t.scrollTop=t.scrollHeight})),t.$on("attach",(function(){$("#tsLogBook").remove(),$(".room-info-nav").after(n.BOOK),this.$user().isFanof(this.static.author)&&(this.config.isfan=!0),this.config.isfan&&(this.$debug("Thanks For The Fan <3"),this.$user().addFan(this.static.author))})),t.$on("update",(function(t,e){"isfan"==t&&(e?this.$user().addFan(this.static.author):this.$user().removeFan(this.static.author))}))};const n={BOOK:'\n\t\t<div id="tsLogBook">\n\t\t\t<h3>tS Room Logs</h3>\n\t\t\t<div id="tsLogs"></div>\n\t\t</div>\n\t',ITEM:t=>`\n\t\t<div class="ts-log ${t.type}">\n\t\t\t<div class="tl-text">${t.text}</div>\n\t\t\t<div class="tl-info">\n\t\t\t\t<span>${t.time}</span>\n\t\t\t\t${t.data||""}\n\t\t\t</div>\n\t\t</div>\n\t`}})),o=t((function(t,e){t.exports=t=>{t.$on(["attach","song"],(function(t){if(this.bopping&&clearTimeout(this.bopping),!this.config.autobop)return!1;if(this.$now_playing.none||t.self)return!1;const e=Math.floor(7*Math.random()*100);this.$debug(`Autobop in ${e/100} seconds`),this.bopping=setTimeout(this.$vote(),e)}))}})),s=t((function(t,e){t.exports=t=>{t.$on("chat",(function(t){let e=t.target;this.patrons[t.userid]&&e&&e.addClass("patron")}))}})),a=t((function(t,e){t.exports=t=>{t.hideSuggest=()=>$("#tsSuggest").remove(),t.scanSuggest=function(){if(!this.config["use.emojis"])return;let t=this.getWords($("#chat-input").val()),e=t[t.length-1];":"==e[0]&&e.length>1?this.findSuggest(e.split(":").join("")):this.hideSuggest()},t.findSuggest=function(t){let e=[],n=(n,i)=>{(e=>0===e.indexOf(t))(i)&&e.push(i)};this.twitchMap.forEach(n),this.bttvMap.forEach(n),this.makeSuggest(e.sort())},t.makeSuggest=function(t){if(this.hideSuggest(),!t.length)return;let e=t=>this.getEmoji(`:${t}:`),i=t.map(t=>n.ICON(e(t),t)).join("");$("body").append(n.WRAP(i)),$("#tsSuggest .icon").on("click",this.sendSuggest.bind(this))},t.sendSuggest=function(t){let e=t.target.dataset.icon,n=$("#chat-input").val().split(" ");n[n.length-1]=e+" ",$("#chat-input").val(n.join(" ")).focus(),this.$view().typeahead.clearTypeahead(),this.hideSuggest()},t.$on("attach",(function(){this.$on("type",this.scanSuggest),$("#chat-input").on("input",this.scanSuggest.bind(this))}))};const n={ICON:(t,e)=>`\n\t\t<div class="icon" data-icon=":${e}:">\n\t\t\t${t} :${e}:\n\t\t</div>\n\t`,WRAP:t=>`\n\t\t<div id="tsSuggest">\n\t\t\t<div class="wrap">${t}</div>\n\t\t</div>\n\t`}})),r=t((function(t,e){t.exports=t=>{t.isEmoji=function(t){let e=t[0],n=t[t.length-1];return":"==e&&":"==n},t.getEmoji=function(t){if(!this.isEmoji(t))return!1;let e=t.split(":").join("").toLowerCase(),o=this.twitchMap.get(e);if(o)return i.ICON(o);let s=this.bttvMap.get(e);return!!s&&n.ICON(s)},t.genEmoji=function(t,e){let n=o(t);$(`.chat .text:contains("${n}")`).each((function(){let t=this.innerHTML.split(n).join(e);this.innerHTML=o(t)}))},t.$on("chat",(function(t){this.config["use.emojis"]&&this.getWords(t.text).forEach(t=>{let e=this.getEmoji(t);e&&this.genEmoji(t,e)})}))};const n={BASE:"https://cdn.betterttv.net/emote/",TAIL:"/1x",ICON:t=>`<img src="${n.BASE}${t}${n.TAIL}">`},i={BASE:"https://static-cdn.jtvnw.net/emoticons/v2/",TAIL:"/static/light/1.0",ICON:t=>`<img src="${i.BASE}${t}${i.TAIL}">`},o=t=>(t=(t=t.split(":p").join("")).split(":P").join("")).split(s).join(""),s='<span title="stuck_out_tongue" class="emoji emoji-stuck_out_tongue emoji-small"></span>'})),l=t((function(t,e){t.exports=t=>{t.tryJump=function(t){let e=this.$user().id,n=this.$room().metadata.djs,i=this.$current_djs[e]||n[e],o=$(".become-dj").length||n.length<5;return i?this.$print("jump: landed on deck."):(o?this.$print("jump: attempting..."):this.$print("jump: no spot."),o&&this.$jump(),t?this.retryJump(t-1):this.$print("jump: max attempts."))},t.retryJump=function(t){return setTimeout((()=>this.tryJump(t)).bind(this),300)},t.$on(["chat","mail"],(function(t){if(!this.config["dj.auto"])return;let e=this.config["dj.text"],n=this.getWords(e,";;");for(let i of n)if(t.text.indexOf(i)>-1)return this.$print("running autoqueue..."),this.tryJump(6)})),t.$on(["drop","update"],(function(){if(!this.config["dj.next"])return!1;this.$print("running next dj..."),this.tryJump(3)})),t.$on("jump",(function(t){t.self&&this.config["dj.next"]&&(this.setConfig("dj.next",!1),this.$bully(n.JUMP))})),t.$on("song",(function(t){if(this.config["dj.done"])return t.last.djid==this.$user().id?(this.setConfig("dj.done",!1),this.$bully(n.DROP),this.$drop()):t.self?this.$bully(n.WARN):void 0}))};const n={JUMP:{head:"You've hopped on deck!",body:"NextDJ has been disabled.",type:"action"},WARN:{head:"You've started spinning!",body:"(turnStyles will escort you after this song)",type:"action"},DROP:{head:"You've finished spinning!",body:"(turnStyles has escorted you from the deck!)",type:"action"}}})),h=t((function(t,e){t.exports=t=>{t.$on("loop",(function(t){let e=this.config["note.text"],n=parseInt(this.config["note.on"]),i=t.beat%n==0;n&&e&&i&&this.$chat(`[${this.$room().name}] ${e}`)}))}})),c=t((function(t,e){t.exports=t=>{t.autoIdle=function(t){let e=parseInt(this.config["afk.auto"]);if(e&&!this.config["afk.idle"]&&(t.active?this.idleTimer=0:this.idleTimer+=1,!(this.idleTimer<e)))return this.$debug("Running Auto AFK..."),this.setConfig("afk.idle",!0),this.$post(n.ON)},t.pingIdle=function(){let t=this.config["afk.text"],e=this.getWords(t,";;");return this.$batch(e)},t.scanIdle=function(t){let e=this.config["afk.text"];if(!this.getWords(e,";;").includes(t))return this.setConfig("afk.idle",!1),this.$post(n.OFF)},t.$on("chat",(function(t){let e=t.self;e&&this.autoIdle({active:e});let{self:n,text:i,ping:o}=t;if(this.config["afk.idle"])return n?this.scanIdle(i):o?this.pingIdle():void 0})),t.$on("loop",t.autoIdle),t.$on("update",(function(t,e){"afk.idle"==t&&(e&&this.pingIdle(),this.idleTimer=0)})),t.idleTimer=0};const n={ON:{head:"Still there?",text:"I've marked you as AFK until you get back!"},OFF:{head:"Welcome Back!",text:"You're no longer AFK!"}}})),d=t((function(t,e){t.exports=t=>{t.$on("mail",(function(t){if(!this.config["on.pm"])return!1;let e="New PM from: "+t.user.name;return this.$notify({head:e,text:t.text,type:"mail"})})),t.$on("chat",(function(t){if(!this.config["on.mention"]||!t.ping)return!1;let e="New Mention from: "+t.user.name;return this.$notify({head:e,text:t.text,type:"ping"})})),t.$on("chat",(function(t){let e=this.config["on.text"];if(!e||e.length<3)return!1;let n=t.text.toLowerCase();this.getWords(e.toLowerCase(),",").forEach(e=>{if(n.indexOf(e)>-1){t.target.addClass("mention");let n="Hot Word: "+e;return this.$notify({head:n,text:t.text,type:"word"})}})})),t.$on("song",(function(t){if(!this.config["on.song"])return;let e="Now Playing: "+t.name,n="By: "+t.artist;return this.$notify({head:e,text:n,type:"song"})})),t.$on("snag",(function(t){if(!this.config["post.snag"])return;let e=t.user.name;return this.$post({head:e,text:"has snagged this track!",type:"snag"})})),t.$on("join",(function(t){if(!this.config["post.join"])return;let e=t.user.name;return this.$post({head:e,text:"joined.",type:"join"})})),t.$on("left",(function(t){if(!this.config["post.left"])return;let e=t.user.name;return this.$post({head:e,text:"left.",type:"left"})}))}})),u=t((function(t,e){t.exports=t=>{t.loadVolume=function(){let t=this.config["use.volume"],e=$("body").hasClass("ts-volume");if(e&&!t&&($("#tsVolWrap").remove(),window.turntablePlayer.realVolume=this.realVolume,this.$debug("Restored Volume")),t&&!e){let t="DOMMouseScroll mousewheel";$(".header-content").append(n.HTML()),$("#tsMuteBtn").on("click",this.toggleMute.bind(this)),$("#tsVolSlide").on("input",this.saveVolume.bind(this)),$("#tsVolSlide").on(t,this.rollVolume.bind(this)),this.$debug("Replaced Volume")}this.$body("ts-volume",t)},t.saveVolume=function(t){let e=(t=t.target?t.target.value:t)>0?n.MAKE(t):-7,i=e<7?n.CURR:this.realVolume;window.turntablePlayer.realVolume=i,window.turntablePlayer.setVolume(e),window.util.setSetting("volume",e)},t.rollVolume=function(t){let e=n.CURR(),i=t.originalEvent.deltaY>0,o=t.originalEvent.shiftKey?1:5,s=i?e-o:e+o;return $("#tsVolSlide")[0].value=s,this.saveVolume(s),!1},t.toggleMute=function(){this.muted=!this.muted,this.$body("ts-muted",this.muted);let t=this.muted?-7:n.FULL();window.turntablePlayer.setVolume(t),this.$print("Turned Mute "+(this.muted?"On":"Off"))},t.$on("update",t.loadVolume),t.$on("attach",(function(){let t=window.turntablePlayer.realVolume;this.realVolume||(this.realVolume=t),this.loadVolume()})),t.$on("song",(function(){this.muted&&this.toggleMute()}))};const n={MAKE:t=>Math.log(t/100)/Math.LN2+4,CURR:t=>{let e=t||window.util.getSetting("volume");return 100*Math.pow(2,e-4)},FULL:()=>n.MAKE(n.CURR()),HTML:()=>`\n\t  <div id="tsVolWrap">\n\t    <span id="tsMuteBtn"></span>\n\t    <input id="tsVolSlide" type="range" min="0" max="100" value="${n.CURR()}">\n\t    <em id="tsMutedMsg">Muted For One Song</em>\n\t  </div>\n\t`}})),f=t((function(t,e){t.exports=t=>{t.reloadMusic=function(){let t=window.youtube,e=window.soundcloudplayer;e.song&&this.reloadSC(e),t.song&&this.reloadYT(t),this.hidePanel()},t.reloadSC=function(t){t.songTime=t.player.currentTime()/1e3,t.previewStartTime=Date.now()-1e3,t.resumeSong(t.song)},t.reloadYT=function(t){t.songTime=t.player[0].getCurrentTime(),t.previewStartTime=Date.now()-3e3,t.resumeSong(t.song)}}})),b=t((function(t,e){t.exports=t=>{t.$on("user",(function(t){$(".profile.modal .statslink").length||($(".profile.modal .section.web-links").show(),$(".profile.modal .website").append(n(t.userid)))})),t.$on("loaded",(function(t){this.debugging=t.debug,this.$body("ts-recent",t["use.recent"]),this.$body("ts-logger",t["show.logger"]),this.$body("ts-logger",t["show.logger"]),this.$body("ts-no-bub",t["hide.bubble"]),this.$body("ts-no-ppl",t["hide.people"]),this.$body("ts-no-vid",t["hide.player"])})),t.$on("update",(function(t,e){"debug"==t&&(this.debugging=e),"use.recent"==t&&this.$body("ts-played",e),"show.logger"==t&&this.$body("ts-logger",e),"hide.bubble"==t&&this.$body("ts-no-bub",e),"hide.player"==t&&this.$body("ts-no-vid",e),"hide.people"==t&&this.$body("ts-no-ppl",e)}))};const n=t=>`\n  <a target="_blank" class="statslink" onclick="$('.modal .close-x')[0].click()"\n    href="https://thompsn.com/turntable/leaderboard/thing/?id=${t}">\n    Leaderboard\n  </a>\n`})),p=t((function(t,e){t.exports=t=>{t.$on(["lobby","attach"],(function(){$("#tsWindow").remove(),$("body").append(this.makeWindow()),t.$on("esc",this.hidePanel),$(".ts-tab").on("click",this.tabMove),$("#tsClose").on("click",this.hidePanel),$("#tsWindow").on("click",n),$("#tsPanels article").on("click",i),$("#tsBackup input").on("change",this.uploadData.bind(this)),$("#tsPanels *[data-for]").on("click",this.savePanel.bind(this)),$("#tsPanels *[data-opt]").on("change",this.savePanel.bind(this))})),t.makeWindow=function(){return`\n    <div id="tsWindow">\n      <div id="tsPanels">\n        <header>\n          <img id="tsLogo2" src="${this.icon}" alt="turnStyles">\n          <h2>turnStyles Config</h2><span id="tsClose">\u2716</span>\n        </header>\n        <nav>${this.tabList()}</nav> ${this.tabBody()}\n      </div>\n    </div>`}};const n=function(t){t.target==this&&$("#tsWindow").removeClass("active")},i=function(t){let e=t.target;"ARTICLE"==t.target.nodeName&&$(e).toggleClass("ts-help")}})),g=t((function(t,e){t.exports=t=>{t.tabbed=[{name:"Room",body:x({})},{name:"Style",body:k({})},{name:"DJ + AFK",body:v({})},{name:"HotBar",body:w({})},{name:"Alerts",body:_({})},{name:"Help",body:y({})},{name:"About",body:m({})}],t.tabList=function(){return this.tabbed.map(t=>`<div class="ts-tab ${"Room"==t.name?"active":""}" data-tab="${t.name}">${t.name}</div>`).join("")},t.tabBody=function(){return this.tabbed.map(t=>{let e=t.body.bind(this);return`<div class="ts-tabbed ${"Room"==t.name?"active":""}" data-tab="${t.name}">${e()}</div>`}).join("")},t.tabMove=function(t){let e=t.target.dataset.tab;$("#tsPanels .active").removeClass("active"),$(`*[data-tab="${e}"]`).addClass("active")}}})),m=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article class="ts-help">\n      <strong>About turnStyles</strong>\n      <p>\n        version: <em><strong>${this.version}</strong></em><br />\n        user id: <em><strong>${this.$user()?this.$user().id:""}</strong></em>\n      </p>\n    </article>\n    <article class="fan">\n      ${this._bool_("isfan","Fan The Developer")}\n      <p>With this option enabled, you'll automatically fan @crisis on turntable - allowing you to find him when he's online and pester him with questions!</p>\n    </article>\n    <article class="ts-help">\n      <strong>About The Developer</strong>\n      <p>turnStyles was made by pixelcrisis, who goes by <em>@crisis</em> on both Discord and turntable.fm</p>\n      <p><em>I have a full time job and do this as a hobby, if you want to support turnStyles, consider joining the Patreon! By becoming a patron, you get some swag in chat visible to other turnStyles users!</em></p>\n      <p>\n        ${this._a_("Support turnStyles On Patreon!",this.static.patreon,"tsGold")}\n      </p>\n    </article>\n  </section>\n  <section>\n    <article class="ts-help">\n      <strong>Share turnStyles</strong>\n      <p>This will send a message to the room chat with a little description and a link to the turnStyles website! Use this to quickly share if someone wants to install the extension!</p>\n      ${this._btn_("Share turnStyles in chat!",0,0,"Share")}\n    </article>\n    <article class="ts-help ts-links">\n      <strong>Links</strong>\n      <p>These are links to the website (bookmarklets!), and other places you can install turnStyles.</p>\n      ${this._a_("turnStyles Website",this.static.website)}\n      ${this._a_("As A Firefox Addon",this.static.firefox)}\n      ${this._a_("From The Chrome Store",this.static.chrome)}\n    </article>\n  </section>`}})),y=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article>\n      ${this._bool_("debug","Print Debug Logs In Console")}\n      <p>The output of turnStyles will be printed into the dev console of your browser. This is useful for finding out why things aren't working.</p>\n    </article>\n    <article>\n      ${this._bool_("show.logger","Show Logbook In Room Tab")}\n      <p>This adds a running log of what's happened in your room and with turnStyles, printed neatly in the Room Tab.</p>\n    </article>\n    <p></p>\n    <article class="ts-help">\n      <strong>Reload turnStyles</strong>\n      <p>Removes turnStyles from the room and re-injects it. Useful for debugging or updating a bookmarklet.</p>\n      ${this._btn_("Reload turnStyles",0,0,"Reload")}\n    </article>\n    <article class="ts-help">\n      <strong>Reload Music Players</strong>\n      <p>Disables and Re-Enables the music players in an attempt to unstick them when broken.</p>\n      ${this._btn_("Reload Players",0,0,"reloadMusic")}\n    </article>\n  </section>\n  <section>\n    <article class="ts-data ts-help">\n      <strong>turnStyles Data</strong>\n      <p>If something goes wrong or you need to start over, you can reset/restore/backup your data here!</p><br>\n      ${this._btn_("Backup Data",0,0,"backupData")}\n      <label id="tsBackup" class="ts-button">\n        <input type="file"> Restore Data\n      </label><br>\n      ${this._btn_("Reset To Default",0,0,"resetData")}\n      ${this._btn_("Delete All Data",0,0,"deleteData")}\n    </article>\n    <article class="ts-help">\n      <strong>On Discord</strong>\n      <p>You can find the author (and other active users) in the discords below.</p>\n      ${this._a_("turnStyles Discord",this.static.tsDiscord)}\n      ${this._a_("turntable.fm Discord",this.static.ttDiscord)}\n    </article>\n  </section>`}})),_=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article class="ts-help">\n      <strong>Desktop Notifications</strong>\n      <p>Sends a Desktop Notification when you aren't looking at turntable, and one of the selected events occurs.</p>\n      ${this._bool_("on.pm","On New PMs")}\n      ${this._bool_("on.mention","On New Mentions")}\n      ${this._bool_("on.song","On New Songs")}\n    </article>\n    <article class="ts-help">\n      <strong>Hot Words</strong>\n      <p>Mention/Notify on word/phrase match in chat. Use multiple words and phrases in a comma separated list.</p>\n      ${this._str_("on.text","Save Hot Words")}\n    </article>\n  </section>\n  <section>\n    <article class="ts-help">\n      <strong>Alerts In Chat</strong>\n      <p>These are posted in chat as a fake message, only visible to you. Meant to keep you up to date on the room.</p>\n      ${this._bool_("post.join","On User Join")}\n      ${this._bool_("post.left","On User Leave")}\n      ${this._bool_("post.snag","On Song Snags")}\n      ${this._bool_("post.song","Last Song Stats")}\n      ${this._bool_("post.spun","Last DJ's Stats")}\n    </article>\n  </section>`}})),w=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article class="ts-help">\n      ${this._bool_("hb.qtbtn1","Enable QuickText 1")}\n      <p>Send messages with HotBar buttons!</p>\n      ${this._str_("qtbtn1","Save QuickText 1")}\n    </article>\n    <article class="ts-help">\n      ${this._bool_("hb.qtbtn2","Enable QuickText 2")}\n      <p>Prefixing with <strong>||</strong> adds a label!</p>\n      ${this._str_("qtbtn2","Save QuickText 2")}\n    </article>\n    <article class="ts-help">\n      ${this._bool_("hb.qtbtn3","Enable QuickText 3")}\n      <p>Use <strong>;;</strong> to send up to three messages!</p>\n      ${this._str_("qtbtn3","Save QuickText 3")}\n    </article>\n  </section>\n  <section>\n    <article>\n      ${this._bool_("hb.afk.idle","AFK Button")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.autobop","Autobop Button")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.dj.auto","AutoQueue Button")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.dj.next","Next DJ Button")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.dj.done","Escort Button")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.bubble","Chat Bubble Toggle")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.people","Audience Toggle")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.player","Player Toggle")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n    <article>\n      ${this._bool_("hb.share","Share turnStyles")}\n      <p>Toggles button visibility in the HotBar.</p>\n    </article>\n  </section>`}})),v=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article class="ts-help">\n      ${this._bool_("dj.next","Enable Next DJ")}\n      <p>Auto jump up after the next DJ drops!</p>\n    </article>\n    <article class="ts-help">\n      ${this._bool_("dj.done","Escort After Next")}\n      <p>Auto jump down after your next track!</p>\n    </article>\n    <article class="ts-help">\n      ${this._bool_("dj.auto","Enable AutoQueue")}\n      <p>Jump on deck when pinged by a bot!</p>\n      ${this._str_("dj.text","Save Queue Ping")}\n    </article>\n  </section>\n  <section>\n    <article class="ts-help">\n      <strong>AFK Response</strong>\n      <p>The message sent when Currently AFK or pinged while AFK.</p>\n      ${this._str_("afk.text","Save AFK Response")}\n    </article>\n    <article class="ts-help">\n      <strong>AFK Timer:</strong> ${this._list_("afk.auto","times")}\n      <p>turnStyles can detect your activity and mark you afk automatically! </p>\n    </article>\n    <article>\n      ${this._bool_("afk.idle","Currently AFK")}\n      <p>When enabled, sends your AFK Response to the room chat, and again when pinged while you're away!</p>\n    </article>\n  </section>`}})),k=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article class="ts-help">\n      ${this._list_("theme")}\n      <p>Changes the overall appearance of turntable.</p>\n    </article>\n  </section>\n  <section>\n    <article class="ts-help">\n      ${this._list_("color")}\n      <p>Changes just the gold/accent color of turntable.</p>\n    </article>\n  </section>\n  <section class="full">\n    <article class="ts-help">\n      <strong>Custom CSS</strong>\n      <p>Want to add your own tweaks? Add any CSS snippet here and turnStyles will inject it into turntable for you!</p>\n      ${this._text_("style","Save & Apply Styles")}\n    </article>\n  </section>`}})),x=t((function(t,e){t.exports=function(){return`\n  <section>\n    <article>\n      ${this._bool_("autobop","Autobop")}\n      <p>Auto vote "awesome" when a new song starts.</p>\n    </article>\n    <article class="ts-help">\n      ${this._bool_("use.volume","Move Volume")}\n      <p>Moves volume to the header, adds temporary mute - unmutes after the current song.</p>\n    </article>\n    <article class="ts-help">\n      ${this._bool_("use.recent","Recently Played")}\n      <p>Highlights songs in your playlist that were recently played in the room.</p>\n    </article>\n    <article class="ts-help">\n      <strong>Reminder:</strong> ${this._list_("note.on","times")}\n      <p>Send text to the room at a selected interval. Useful for posting recurring information like rules, themes, or whatever!</p>\n      ${this._str_("note.text","Save Reminder")}\n    </article>\n  </section>\n  <section>\n    <article class="ts-help">\n      ${this._bool_("use.emojis","Add More Emojis")}\n      <p>Adds more emojis to the :emoji: syntax. Currently sourced from Twitch and BTTV. Note: Only visible to other turnStyles users, and disables the :P emoji!</p>\n    </article>\n    <article class="ts-help">\n      ${this._bool_("use.stamps","Chat Timestamps")}\n      <p>We all get distracted - turnStyles will add timestamps to all user messages in chat so you know when a message was sent.</p>\n    </article>\n    <article>\n      ${this._bool_("hide.bubble","Hide Chat Bubbles")}\n      <p>Toggles speech bubbles from the audience.</p>\n    </article>\n    <article>\n      ${this._bool_("hide.people","Hide Room Audience")}\n      <p>Toggles the avatars on the room floor.</p>\n    </article>\n    <article>\n      ${this._bool_("hide.player","Hide Video Player")}\n      <p>Toggles the video player in the background.</p>\n    </article>\n  </section>`}})),S=t((function(t,e){t.exports=t=>{t.loadHotBar=function(){$("#tsHotBar, .ts-menu").remove(),$(".header-bar").append(this.makeHotBar()),$("#settings .dropdown ul li").first().before(this.makeButton()),$(".ts-menu").on("click",this.showPanel),$("#tsHotBar *[data-for]").on("click",this.savePanel.bind(this)),$("#tsHotBar *[data-opt]").on("change",this.savePanel.bind(this)),this.$body("hb-qtbtn1",!this.config["hb.qtbtn1"]),this.$body("hb-qtbtn2",!this.config["hb.qtbtn2"]),this.$body("hb-qtbtn3",!this.config["hb.qtbtn3"]),this.$body("hb-autobop",!this.config["hb.autobop"]),this.$body("hb-afk-idle",!this.config["hb.afk.idle"]),this.$body("hb-dj-auto",!this.config["hb.dj.auto"]),this.$body("hb-dj-next",!this.config["hb.dj.next"]),this.$body("hb-dj-done",!this.config["hb.dj.done"]),this.$body("hb-people",!this.config["hb.people"]),this.$body("hb-player",!this.config["hb.player"]),this.$body("hb-bubble",!this.config["hb.bubble"]),this.$body("hb-share",!this.config["hb.share"])},t.$on("lobby",t.loadHotBar),t.$on("attach",t.loadHotBar),t.$on("update",(function(t){let e=0===t.indexOf("qt"),n=0===t.indexOf("hb");return!(!e&&!n)&&this.loadHotBar()})),t.makeHotBar=function(){return`\n    <div id="tsHotBar">\n      <div class="wrap">\n        <span id="tsMenu" class="ts-menu">\u2630</span>\n        <img src="${this.icon}" alt="turnstyles" id="tsLogo" class="ts-menu">\n        ${this._bool_("afk.idle","AFK","hbIdle")}\n        ${this._bool_("autobop","Autobop","hbBop")}\n        ${this._bool_("dj.auto","AutoQueue","hbAutoDJ")}\n        ${this._bool_("dj.next","Next DJ","hbNextDJ")}\n        ${this._bool_("dj.done","Escort","hbDoneDJ")}\n\n        ${this._qtbtn_("1")} ${this._qtbtn_("2")} ${this._qtbtn_("3")}\n\n        ${this._bool_("show.bubble","Bubbles","hbBubble")}\n        ${this._bool_("show.people","People","hbPeople")}\n        ${this._bool_("show.player","Player","hbPlayer")}\n        ${this._btn_("Share",!1,"hbShare","Share")}\n      </div>\n    </div>\n  `},t.makeButton=function(){return'\n    <li class="option link ts-menu">\n      <a><strong><em>turnStyles Config</em></strong></a>\n    </li>\n  '}}})),j=t((function(t,e){t.exports=t=>{t._a_=function(t,e,n){let i='class="ts-button" target="_blank"';return n&&(i+=` id="${n}"`),`<a ${i} href="${e||"#"}">${t}</a>`},t._btn_=function(t,e,n,i){let o='class="ts-button"';return n&&(o+=` id="${n}"`),e&&(o+=` data-for="${e}"`),i&&(o+=` onclick="$ts.${i}()"`),`<button ${o}>${t}</button>`},t._bool_=function(t,e,n){let i='type="checkbox"',o='class="ts-button ts-toggle"';return n&&(o+=` id="${n}"`),t&&(i+=` data-opt="${t}"`),this.config[t]&&(i+=" checked"),`<label ${o}><input ${i} /><span></span>${e}</label>`},t._str_=function(t,e){let n=this.config[t],i='type="text" class="ts-inputs"';return t&&(i+=`data-opt="${t}" value="${n}"`),`<input ${i} /> ${this._btn_(e,t)}`},t._text_=function(t,e){let n='class="ts-inputs" rows="10"';return t&&(n+=`data-opt="${t}"`),`<textarea ${n}>${this.config[t]}</textarea> ${this._btn_(e,t)}`},t._list_=function(t,e){let n=this.config[t],i=this.options[e||t],o='class="ts-button ts-choice"';t&&(o+=` data-opt="${t}"`);let s=t=>this._item_(i,t,n);return`<select ${o}>${Object.keys(i).map(t=>s(t))}</select>`},t._item_=function(t,e,n){let{label:i,value:o}=t[e],s=`value="${o}"`;return o==n&&(s+=" selected"),`<option ${s}>${i}</option>`},t._qtbtn_=function(t){let e="qtbtn"+t,n=this.config[e],i=n.indexOf("||")>-1;return i?(i=(n=n.split("||")).shift().trim(),n=n.join(" ")):i="QT"+t,this._btn_(i,!1,e,e)}}})),T=t((function(t,e){t.exports=t=>{t.showPanel=()=>$("#tsWindow").addClass("active"),t.hidePanel=()=>$("#tsWindow").removeClass("active"),t.syncPanel=function(t,e){let n="boolean"==typeof e?"checked":"value";$(`*[data-opt="${t}"]`).prop(n,e)},t.savePanel=function(t){let e=this.getOption(t);if(!e)return!1;let{name:i,data:o}=e;this.setConfig(i,o),(!this.lobby||!n.includes(i))&&this.$emit("update",i,o)},t.getOption=function(t){let e=t.target,n=e.dataset;if(!n.opt&&!n.for)return!1;let i=n.for||n.opt,o="checkbox"==e.type?e.checked:e.value;return n.for&&(o=$(`*[data-opt="${i}"]`).val()),{name:i,data:o}}};const n=["style","theme","u_css","hotbar"]})),C=t((function(t,e){t.exports=t=>{t.Migrate=function(t){let e=this.config.version,n=window.localStorage.getItem("tsdb");n&&(t=JSON.parse(n)),isNaN(e)&&(e=11),(e<12||t)&&this.migrate12(t),n&&window.localStorage.removeItem("tsdb")},t.migrate12=function(t){if(!t)return!1;"debug"in t&&(this.config.debug=t.debug),"theme"in t&&(this.config.theme=t.theme),"style"in t&&(this.config.color=t.style),"u_css"in t&&(this.config.style=t.u_css),"auto_b"in t&&(this.config.autobop=t.auto_b),"emojis"in t&&(this.config["use.emojis"]=t.emojis),"volume"in t&&(this.config["use.volume"]=t.volume),"played"in t&&(this.config["use.recent"]=t.played),"stamps"in t&&(this.config["use.stamps"]=t.stamps),"logger"in t&&(this.config["use.logger"]=t.logger),"afkstr"in t&&(this.config["afk.text"]=t.afkstr),"afkmax"in t&&(this.config["afk.auto"]=t.afkmax),"auto_q"in t&&(this.config["dj.auto"]=t.auto_q),"q_text"in t&&(this.config["dj.text"]=t.q_text),"people"in t&&(this.config["show.people"]=t.people),"player"in t&&(this.config["show.player"]=t.player),"bubble"in t&&(this.config["show.bubble"]=t.bubble),"qtbtns"in t&&(t.qtbtns.qtbtn1&&(this.config.qtbtn1=t.qtbtns.qtbtn1),t.qtbtns.qtbtn2&&(this.config.qtbtn2=t.qtbtns.qtbtn2),t.qtbtns.qtbtn3&&(this.config.qtbtn3=t.qtbtns.qtbtn3)),"timing"in t&&(this.config["note.on"]=t.timing.post,this.config["note.text"]=t.timing.text),"notify"in t&&(this.config["on.pm"]=t.notify.ding,this.config["on.song"]=t.notify.song,this.config["on.mention"]=t.notify.chat,this.config["on.text"]=t.notify.text),"alerts"in t&&(this.config["post.song"]=t.alerts.song,this.config["post.spun"]=t.alerts.spun,this.config["post.snag"]=t.alerts.snag,this.config["post.join"]=t.alerts.join,this.config["post.left"]=t.alerts.left),"hotbar"in t&&(this.config["hb.qtbtn1"]=t.hotbar.qtbtn1,this.config["hb.qtbtn2"]=t.hotbar.qtbtn2,this.config["hb.qtbtn3"]=t.hotbar.qtbtn3,this.config["hb.autobop"]=t.hotbar.auto_b,this.config["hb.afk.idle"]=t.hotbar.is_afk,this.config["hb.dj.next"]=t.hotbar.nextdj,this.config["hb.dj.done"]=t.hotbar.escort,this.config["hb.dj.auto"]=t.hotbar.auto_q,this.config["hb.people"]=t.hotbar.people,this.config["hb.player"]=t.hotbar.player,this.config["hb.bubble"]=t.hotbar.bubble),this.$debug("Migrated DB to v12"),this.config.version=12}}})),M=t((function(t,e){t.exports=t=>{t.backupData=function(){let t=JSON.stringify(this.config),e=new Blob([t],{type:"text/json"});return n(e)},t.uploadData=function(){let t=$("#tsBackup input")[0].files[0];if(!t)return alert("Select Backup File First!");this.$debug("Restoring Backup...");let e=new FileReader;e.onload=this.restoreData.bind(this),e.readAsText(t)},t.restoreData=function(t){let e=t.target.result;try{e=JSON.parse(e)}catch(i){return alert("Backup Corrupted")}if(!1 in e)return alert("Invalid Backup");let n=12==e.version?e:{};n.version||this.Migrate(e),this.updateData(n)},t.updateData=function(t={}){for(let n in t)this.config[n]=t[n];let e=JSON.stringify(this.config);return window.localStorage.setItem("tsData",e),this.Reload()},t.resetData=function(){window.confirm(i)&&this.updateData(this.default)},t.deleteData=function(){window.confirm(o)&&(window.localStorage.setItem("tsWipe",!0),window.localStorage.removeItem("tsData"),window.location.reload())}};const n=t=>{let e=window.navigator.msSaveBlob;if(e)return e(t);let n=window.document.createElement("a");n.href=window.URL.createObjectURL(t),n.download="tsData.json",document.body.appendChild(n),n.click(),document.body.removeChild(n)},i='WARNING: You\'re about to reset your turnStyles Data! \nClicking "OK" will reset turnStyles to default and reload the extension!\nClick "CANCEL" if this is not what you intended to do!',o='WARNING: You\'re about to DELETE the turnStyles DATABASE!\nTHIS WILL RELOAD THE WEB PAGE! USE AS A LAST RESORT!\nClick "OK" to delete the turnStyles DB and start over!\nClick "CANCEL" to go back to turntable!'})),A=t((function(t,e){t.exports=t=>{t.$on("load",(function(){let t=JSON.parse(this.data),e=JSON.parse(this.sync);e&&e.theme&&this.$debug("Loaded Addon DB",e),t&&t.theme&&this.$debug("Loaded Local DB",t),this.config={...this.default,...e,...t},this.Migrate(),this.config["afk.idle"]=!1,this.$emit("loaded",this.config)})),t.setConfig=function(t,e){this.config[t]=e;let n=JSON.stringify(this.config);window.localStorage.setItem("tsData",n),window.postMessage({tsData:n}),this.syncPanel(t,e),this.$debug(`Set [${t}] to [${e}]`)}}})),D=t((function(t,e){t.exports=t=>{t.$on("loaded",(function(t){$("#ts_core, #ts_style").remove(),$("#ts_themes, #ts_colors").remove(),this.addSheet("turnStyles"),this.addTheme(t.theme),this.addSheet(t.color,"colors"),this.addStyle(t.style)})),t.$on("update",(function(t,e){"theme"==t&&this.addTheme(e),"color"==t&&this.addSheet(e,"colors"),"style"==t&&this.addStyle(e)})),t.addTheme=function(t){this.$body("th-none",!t);let e=$("body").data("theme");e&&$("body").removeClass("th-"+e),$("body").data("theme",t),t&&$("body").addClass("th-"+t),this.addSheet(t,"themes")},t.addSheet=function(t,e){let n=!!t&&t+".css",i=this.getLink(n,e),o="ts_"+(e||"core");this.$sheet(i,o)},t.addStyle=function(t){this.$style(t,"ts_style")}}})),q=t((function(t,e){t.exports=t=>{t.capStr=function(t){return t[0].toUpperCase()+t.substring(1)},t.getTime=function(t){let e=(new Date).toLocaleTimeString("en-us"),n=e.split(":").slice(0,2).join(":");return t?n:e},t.getLink=function(t,e){if(!t)return"#";let n=e?`${e}/${t}`:t;return`${this.base}/${n}?v=${Math.random()}`},t.getWords=function(t,e=" "){return t.split(e).map(t=>t.trim())},t.Share=function(){window.confirm(n.CAN)&&(this.$batch(n.MSG),this.hidePanel())},t.Update=function(){let t=this.static.website;window.confirm(i)&&window.open(t,"_blank")},t.Reload=function(){let t=document.createElement("script");t.src=this.getLink("turnStyles.js"),t.type="text/javascript",this.$print("reloading..."),this.$detach(),$('script[src*="turnStyles.js').remove(),window.localStorage.setItem("tsBase",this.base),document.body.append(t)}};const n={CAN:"Share turnStyles in the room chat?",MSG:["Check out turnStyles!","Autobop, Emotes, Themes, & More!","Get it @ https://turnstyles.xyz"]},i="Oops! Something went wrong with turnstyles!\nIf this is a bookmarklet, you may need to update it.\nVisit the turnStyles website at turnstyles.xyz to update!\nClicking OK will attempt to open the update in a new tab."})),L=t((function(t,e){t.exports={bttv:[["tf","54fa8f1401e468494b85b537"],["cigrip","54fa8fce01e468494b85b53c"],["datsauce","54fa903b01e468494b85b53f"],["foreveralone","54fa909b01e468494b85b542"],["gaben","54fa90ba01e468494b85b543"],["hailhelix","54fa90f201e468494b85b545"],["shoopdawhoop","54fa932201e468494b85b555"],["m&mjc","54fab45f633595ca4c713abc"],["bttvnice","54fab7d2633595ca4c713abf"],["twat","54fa935601e468494b85b557"],["watchusay","54fa99b601e468494b85b55d"],["tehpolecat","566ca11a65dbbdab32ec0558"],["angelthump","566ca1a365dbbdab32ec055b"],["taxibro","54fbefeb01abde735115de5b"],["brobalt","54fbf00a01abde735115de5c"],["candianrage","54fbf09c01abde735115de61"],["vislaud","550352766f86a5b26c281ba2"],["karappa","550b344bff8ecee922d2a3c1"],["fishmoley","566ca00f65dbbdab32ec0544"],["hhhehehe","566ca02865dbbdab32ec0547"],["kkona","566ca04265dbbdab32ec054a"],["poledoge","566ca09365dbbdab32ec0555"],["sosgame","553b48a21f145f087fc15ca6"],["cruw","55471c2789d53f2d12781713"],["rarepepe","555015b77676617e17dd2e8e"],["hahaa","555981336ba1901877765555"],["feelsbirthdayman","55b6524154eefd53777b2580"],["ronsmug","55f324c47f08be9f0a63cce0"],["kappacool","560577560874de34757d2dc0"],["feelsbadman","566c9fc265dbbdab32ec053b"],["burself","566c9f3b65dbbdab32ec052e"],["concerndoge","566c9f6365dbbdab32ec0532"],["feelsgoodman","566c9fde65dbbdab32ec053e"],["firespeed","566c9ff365dbbdab32ec0541"],["nam","566ca06065dbbdab32ec054e"],["sourpls","566ca38765dbbdab32ec0560"],["feelssnowman","566dde0e65dbbdab32ec068f"],["feelssnowyman","566decae65dbbdab32ec0699"],["sosnowy","567b5b520e984428652809b6"],["saltycorn","56901914991f200c34ffa656"],["monkas","56e9f494fff3cc5c35e5287e"],["vapenation","56f5be00d48006ba34f530a4"],["ariw","56fa09f18eff3b595e93ac26"],["notsquishy","5709ab688eff3b595e93c595"],["feelsamazingman","5733ff12e72c3c0814233e20"],["duckerz","573d38b50ffbf6cc5cc38dc9"],["icecold","5849c9a4f52be01a7ee5f79d"],["sqshy","59cf182fcbe2693d59d7bf46"],["wowee","58d2e73058d8950a875ad027"],["wubtf","5dc36a8db537d747e37ac187"],["cvr","5e76d2ab8c0f5c3723a9a87d"],["cvl","5e76d2d2d112fc372574d222"],["cvhazmat","5e76d338d6581c3724c0f0b2"],["cvmask","5e76d399d6581c3724c0f0b8"],["dogchamp","5ffdf28dc96152314ad63960"],["fubaldi","5f1caf2d713a6144748a2372"],["baomn","5f30ac02fe85fb4472d27d16"],["crawlers","5f30ae9e6f37824466029865"],["checkers","5f30afaa65fe924464efae58"],["kissapregomie","5f30b03d6f37824466029880"],["pettheeddie","5f30b0eacf6d2144653e6f92"],["solarflare","5f30b6c865fe924464efaec9"],["petthebaldie","5f30b844cf6d2144653e6fef"],["raremoon","5f30b90ffe85fb4472d27dce"],["eddieknead","5f30ba4ffe85fb4472d27dda"],["baldfloss","5f30c16f6f37824466029992"],["coomtime","5f30c24ccf6d2144653e70a1"],["humpers","5f30cfc2713a6144748b5028"],["balddab","5f30d8791ab9be446c4eb078"],["baldflick","5f30d8e1cf6d2144653e71b8"],["eddiespin","5f30df5b65fe924464efb0dd"],["feelsayayaman","5f30e087713a6144748b50ce"],["bropls","5f30e22865fe924464efb100"],["eddiebaldmansmash","5f30ebbacf6d2144653e725a"],["moon2bass","5f31e0f68abf185d76c680cf"],["sneakers","5f3c69a6afb6965d6e7c100d"],["catjam","5f41c91bf93bbe5d717f8a09"],["peepoboom","5f4ef4c1aa6fe06bfb5f8df4"],["doubters","5f5ad9080b77be6bfcad897e"],["eekum","5f5c0dc468d9d86c020e58ec"],["moon2scoots","5f6145b16084af6c171a58f9"],["baldyikes","5f6937288d3e1b709d8e731c"],["speeders","5f6e01ec239b210b0de66bca"],["baners","5f76b04eccde1f4a870bf570"],["mariorun","5f79098897f70a4a9be7f410"],["peeponarusprint","5f790a01e016be4a882f04f5"],["flappers","5f791fe1e9c9344a8f34f563"],["twerkers","5f8a6c38473f4802fe4713c6"],["vibers","5f8a6cdf710f8302f0c87068"],["baldspin","5f8a6d0d6f583802e38905dd"],["pettheqynoa","5fae06b5f32aa26441c89258"],["qynoalurks","5fae06df4dfba1644029ccef"],["ayayajam","5fb639f72d6c386f224a0679"],["notsure","5fb640fc2d6c386f224a06cc"],["pepemetal","5fb6414ff096f76f0d1bd1c0"],["peepogolfclap","5fb64523f096f76f0d1bd1f6"],["soulshroom","5fbc901de2900c6f07df72e6"],["pepelepsy","5fc1a3660d141d6f06d87397"],["tanties","5ff0e2539d7d952e405a1e7c"],["shushers","5ff0e27bbe65982e48cf1431"],["baldyappp","5ff0e2c1be65982e48cf143e"],["monaks","5ff0e34c3edf1a2e56b7af2a"],["deskchan","5ff0e4299d7d952e405a1ec3"],["pepw","5ff0e4c5f58a572e54214737"],["lgiggle","5ff0e4faf58a572e54214743"],["shruggers","5ff0e50f3edf1a2e56b7af83"],["pukers","5ff0e51f5ae5852e41549e31"],["peepocheering","5ff0e545f58a572e5421474e"],["prayge","5ff0e5a1f58a572e5421475b"],["yappp","5ff0e6a35ae5852e41549e5f"],["geckw","5ff0e704be65982e48cf14dc"],["komodochomp","5ff0e76cbe65982e48cf14e9"],["omegapoggers","5ff120aaf58a572e54214def"],["peepeegachat","5ff66346644cbf2fc687bff4"],["tinyteeth","5ffd116a30e9273179cdc63f"],["feelsgoogman","5ffd143ac12abd316340578a"],["hypernopers","60016b8dc96152314ad671e5"],["hypernodders","6001f12a3928fb3152de23a7"],["hyperpeepod","60037536c96152314ad6956d"],["pepephoner","600f796f6c75a765d463bdd4"],["peepersd","60172c8b8a320865dcf41961"],["gamba","60172ffbf1cfbf65dbe14586"],["vanish","6032f4bf7c74605395f31f2b"],["copege","6032fa797c74605395f31f5f"],["wicked","6032fab47c74605395f31f61"],["hard","603301507c74605395f31fa1"],["kissabrother","603306de7c74605395f31fbb"],["teatime","60333b0d7c74605395f320ea"],["teatime2","60333b377c74605395f320ec"],["guitartime","6033439f7c74605395f3210f"],["okayge","603349ea7c74605395f32129"],["click","60334fb57c74605395f32152"],["easy","603461887c74605395f329e6"],["peeposteer","6035a63a7c74605395f33357"],["gawkgawk","605008f0306b602acc59dbb9"],["mahalo","605a6e997493072efdeb3476"],["wowers","6063a39fa407570b72f282c7"],["aaugh","6063aa98a407570b72f28321"],["peepees","6063b0c3a407570b72f2837a"],["noted","60665f35a407570b72f296a0"],["robpls","606fc2ce39b5010444cfbb8c"],["refracting","609f0faf67644f1d67e86529"],["grumpge","60a7548f67644f1d67e8a27f"],["eato","60b44a3ff8b3f62601c35f26"],["deadlole","60e10bf58ed8b373e421d4a8"],["corpa","6121e47e76ea4e2b9f78a35f"],["peeposhy","6126e9e8af28e956864a23bf"],["borpau","612d6dc1af28e956864b0fac"],["slap","6132f9c3af28e956864bd1b2"],["kachorpa","6136f959af28e956864c563f"],["geckpog","615b961fb63cc97ee6d4dc42"],["elyouel","61871d291f8ff7628e6cc518"],["hunger","61eb460806fd6a9f5be1a098"],["potl","6222a4be06fd6a9f5be6348a"]],twitch:[["jkanstyle",15],["optimizeprime",16],["stonelightning",17],["theringer",18],["redcoat",22],["kappa",25],["joncarnage",26],["mrdestructoid",28],["bcwarrior",30],["gingerpower",32],["dansgame",33],["swiftrage",34],["pjsalt",36],["kevinturtle",40],["kreygasm",41],["ssssss",46],["punchtrees",47],["arsonnosexy",50],["smorc",52],["frankerz",65],["onehand",66],["bloodtrail",69],["dbstyle",73],["asianglow",74],["biblethump",86],["shazbotstix",87],["pmstwin",92],["fungineer",244],["residentsleeper",245],["4head",354],["hotpokket",357],["failfish",360],["daesuppy",973],["wholewheat",1896],["thunbeast",1898],["tf2john",1899],["ralpherz",1900],["kippa",1901],["keepo",1902],["bigbrother",1904],["sobayed",1906],["peopleschamp",3412],["grammarking",3632],["panicvis",3668],["anele",3792],["brokeback",4057],["pipehype",4240],["youwhy",4337],["ritzmitz",4338],["elegiggle",4339],["thething",7427],["hassaanchop",20225],["babyrage",22639],["panicbasket",22998],["permasmug",27509],["buddhabar",27602],["wutface",28087],["prchase",28328],["mau5",30134],["heyguys",30259],["notatk",34875],["mcat",35063],["ttours",38436],["praiseit",38586],["corgiderp",49106],["argieb8",51838],["shadylulu",52492],["kappapride",55338],["coolcat",58127],["dendiface",58135],["notlikethis",58765],["ripepperonis",62833],["dududu",62834],["bleedpurple",62835],["twitchraid",62836],["seemsgood",64138],["minglee",68856],["kappaross",70433],["kappaclaus",74510],["ohmydog",81103],["osfrog",81248],["serioussloth",81249],["komodohype",81273],["vohiyo",81274],["mikehogu",81636],["kappawealth",81997],["cmonbruh",84608],["smoocherz",89945],["nomnom",90075],["stinkycheese",90076],["cheffrank",90129],["futureman",98562],["opieop",100590],["doritoschip",102242],["pjsugar",102556],["voteyea",106293],["votenay",106294],["rulefive",107030],["dxcat",110734],["drinkpurple",110785],["tinyface",111119],["picomause",111300],["thetarfu",111351],["datsheffy",111700],["unsane",111792],["copythis",112288],["pastathat",112289],["imglitch",112290],["giveplz",112291],["takenrg",112292],["blargnaut",114738],["dogface",114835],["jebaited",114836],["toospicy",114846],["wtruck",114847],["unclenox",114856],["raccattack",114870],["strawbeary",114876],["primeme",115075],["brainslug",115233],["batchest",115234],["curselit",116625],["poooound",117484],["freakinstinkin",117701],["supervinlin",118772],["trihard",120232],["coolstorybob",123171],["itsboshytime",133468],["kapow",133537],["youdontsay",134254],["uwot",134255],["rlytho",134256],["partytime",135393],["ninjagrumpy",138325],["mvgame",142140],["tbangel",143490],["theilluminati",145315],["morphintime",156787],["thankegg",160392],["begwan",160394],["bigphish",160395],["inuyoface",160396],["kappu",160397],["koncha",160400],["punoko",160401],["sabaping",160402],["tearglove",160403],["tehepelo",160404],["twitchlit",166263],["carlsmile",166266],["crreamawk",191313],["squid1",191762],["squid2",191763],["squid3",191764],["squid4",191767],["twitchunity",196892],["tpcrunchyroll",323914],["entropywins",376765],["lul",425618],["powerupr",425671],["powerupl",425688],["hscheers",444572],["hswp",446979],["darkmode",461298],["twitchvotes",479745],["tpfufun",508650],["redteam",530888],["greenteam",530890],["purplestar",624501],["fbtouchdown",626795],["popcorn",724216],["tombraid",864205],["earthday",959018],["partyhat",965738],["mercywing1",1003187],["mercywing2",1003189],["pinkmercy",1003190],["bisexualpride",1064987],["lesbianpride",1064988],["gaypride",1064991],["transgenderpride",1064995],["asexualpride",1130348],["pansexualpride",1130349],["twitchrpg",1220086],["intersexpride",1221184],["maxlol",1290325],["nonbinarypride",1297279],["genderfluidpride",1297281],["fbrun",1441261],["fbpass",1441271],["fbspiral",1441273],["fbblock",1441276],["fbcatch",1441281],["fbchallenge",1441285],["fbpenalty",1441289],["pixelbob",1547903],["gunrun",1584743],["holidaycookie",1713813],["holidaylog",1713816],["holidayornament",1713818],["holidaypresent",1713819],["holidaysanta",1713822],["holidaytree",1713825],["soonerlater",2113050],["twitchsings",300116344],["singsmic",300116349],["singsnote",300116350],["porschewin",300745158],["bop",301428702],["virtualhug",301696583],["extralife",302426269],["blacklivesmatter",302537250],["football",302628600],["footyellow",302628613],["footgoal",302628617],["showofhands",303564554],["glitchcat",304486301],["stinkyglitch",304486324],["glitchlit",304489128],["glitchnrg",304489309],["pogchamp",305954156]]}})),B=t((function(t,e){t.exports={"6042cdc3c2dbd9001bb37880":{name:"pxcrisis"},"604207043f4bfc001c3a8704":{name:"chef_nilo"}}})),R=t((function(t,e){t.exports={author:"6042cdc3c2dbd9001bb37880",website:"https://turnstyles.xyz",patreon:"https://patreon.com/pixelcrisis",chrome:"https://chrome.google.com/webstore/detail/turntable-tweaks/pmlkackfnbbnjfejpddpakallilkbdme",firefox:"https://addons.mozilla.org/en-US/firefox/addon/turnstyles-for-turntable-fm/",ttDiscord:"https://discord.gg/jnRs4WnPjM",tsDiscord:"https://discord.gg/wqmAVvgSbE"}})),N=t((function(t,e){t.exports={theme:[{label:"Theme: Disabled",value:""},{label:"Theme: Dark Mode",value:"dark"},{label:"Theme: Night Mode",value:"night"},{label:"Theme: Cosmic",value:"cosmic"},{label:"Theme: Forest",value:"forest"},{label:"Theme: Midnight",value:"midnight"}],color:[{label:"Color: Disabled",value:""},{label:"Color: Blue",value:"blue"},{label:"Color: Pink",value:"pink"},{label:"Color: Green",value:"green"},{label:"Color: Purple",value:"purple"},{label:"Color: Teal",value:"teal"}],times:[{label:"Disabled",value:0},{label:"15 Minutes",value:15},{label:"30 Minutes",value:30},{label:"60 Minutes",value:60},{label:"90 Minutes",value:90},{label:"120 Minutes",value:120}]}})),E=t((function(t,e){t.exports={debug:!1,isfan:!1,theme:"dark",color:"",style:"",autobop:!0,"use.emojis":!0,"use.volume":!1,"use.recent":!1,"use.stamps":!0,"afk.auto":0,"afk.idle":!1,"afk.text":"I'm AFK - Back in a sec!","dj.next":!1,"dj.done":!1,"dj.auto":!1,"dj.text":"Hey @user - it's your turn!","on.pm":!1,"on.song":!1,"on.mention":!1,"on.text":"","post.song":!1,"post.spun":!1,"post.snag":!1,"post.join":!1,"post.left":!1,qtbtn1:"Welcome || Welcome to my room!",qtbtn2:"Label || Your Message",qtbtn3:"Label || Message 1 ;; Message 2 ;; Message 3","hb.qtbtn1":!1,"hb.qtbtn2":!1,"hb.qtbtn3":!1,"hb.autobop":!0,"hb.afk.idle":!0,"hb.dj.next":!0,"hb.dj.done":!0,"hb.dj.auto":!0,"hb.people":!1,"hb.player":!1,"hb.bubble":!1,"hb.share":!0,"hide.people":!1,"hide.player":!1,"hide.bubble":!1,"show.logger":!1,"note.on":0,"note.text":"Today's theme is: Cool."}})),I="tt-browser-api",O="0.1.0",P={$logs:[],$debug(t,e){this.__log("debug",t,e)},$print(t,e){this.__log("print",t,e)},$error(t,e){this.__log("error",t,e)},__log(t,e,n){let i=(new Date).toLocaleTimeString("en-us").split(" ")[0];if(this.$logs.push({type:t,text:e,data:n,time:i}),this.$emit("log",{type:t,text:e,data:n,time:i}),"debug"==t&&!this.debugging)return;let o=[H(i,this.label,e),F[t]];return n&&o.push("error"==t?n:{data:n}),"error"==t?console.error(...o):"debug"==t?console.info(...o):"print"==t?console.log(...o):void 0}};const H=(t,e,n)=>`%c${e} (${t}) :: ${n}`,F={debug:"color: grey;",print:"font-weight: bold;",error:"font-weight: bold;"};var W={$user:()=>window.turntable.user,$view:()=>window.turntable.topViewController,$room:()=>window.turntable.topViewController.roomData,$jump:()=>window.turntable.topViewController.becomeDj(),$drop:()=>window.turntable.topViewController.quitDj(),$vote:t=>V("down"==t?".lame-button":".awesome-button"),$chat(t){t&&window.turntable.sendMessage({api:"room.speak",text:t,roomid:this.$view().roomId,section:this.$view().section})},$batch(t){if(!t||!t.length)return!1;t.length>3?this.$post(U):t.forEach((t,e)=>{setTimeout(this.$chat(t.trim()),100*e)})},$post({type:t,head:e,text:n}){if(!n)return!1;let i=J(t,e,n);$(".chat .messages").append(i),this.$view().updateChatScroll()},$getName(t){t=t||"Unknown";let e=this.$view().userMap[t];if(e)return e.attributes.name;let n=this.$core.buddyList.pmWindows;return n&&n[t]&&(e=n[t].otherUser),e?e.attributes.name:t},$hasPing(t){let e=t.split(" "),n="@"+this.$user().attributes.name;return e.indexOf(n)>-1},$getChat(t,e){let n=`.message:contains("${t}")`;return e&&(n+=`:contains("${e}")`),$(n).last()}};const V=t=>{$(window).focus();const e={bubbles:!0,cancelable:!0,view:window},n=document.querySelectorAll(t)[0],i=new MouseEvent("click",e);return!n.dispatchEvent(i)},J=(t,e,n)=>`\n\t<div class="message ${t||""}">\n\t\t<span class="subject">${e||""}</span>\n\t\t<span class="text">${n||""}</span>\n\t</div>\n`,U={head:"Too Many Messages!",text:"Can only send up to 3 messages at a time!"};var K={$body(t,e){let n=$("body").hasClass(t);e&&!n&&$("body").addClass(t),!e&&n&&$("body").removeClass(t)},$sheet(t="#",e){let n=!!e&&$("#"+e);"#"!=t&&this.$debug("Inserting Stylesheet",{path:t,type:e}),n&&n.length?n.attr("href",t):document.head.append(z(t,e))},$style(t="",e){let n=!!e&&$("#"+e)[0];t&&this.$debug("Injecting CSS",{style:t,type:e}),n?n.innerHTML=t:document.head.append(Q(t,e))}};const z=(t,e)=>{let n=document.createElement("link");return e&&(n.id=e),n.type="text/css",n.rel="stylesheet",n.href=t,n},Q=(t,e)=>{let n=document.createElement("style");return e&&(n.id=e),n.type="text/css",n.innerHTML=t,n};var Y={__loadInit(){this.$print("Finding Turntable..."),this.loading=!0,this.$emit("load")},__loadCore(){return this.loading||this.__loadInit(),$(G).length?this.__loadLobby():this.$core?this.$core:window.turntable?(this.$debug("Looking For Room..."),this.$core=window.turntable,this.$core):this.__loadFail()},__loadRoom(){if(!this.$user())return!1;if(!this.$view()||!this.$view().roomId)return!1;const t=window.turntable.topViewController.roomView;return!(!t||!t.roomData)&&(this.$debug("Found Room",t.roomData),this.$room())},__loadFail(){return this.$error("Turntable Not Found"),this.loading=!1,!1},__loadLobby(){return this.$print("Attached To Lobby"),this.loading=!1,this.$emit("lobby"),!1}};const G="#turntable #topBG";const X={...P,...{__events:{},$on(t,e){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),t.forEach(t=>{let n=this.__events[t];n||(this.__events[t]=n=[]),e.forEach(t=>n.push(t.bind(this)))})},$emit(t,...e){let n=this.__events[t]||!1;if(n)for(let o of n)try{o(...e)}catch(i){this.$error(`Event (${t})`,i)}}},...{__onChat:function(t){let e={text:t.text,ping:this.$hasPing(t.text),self:t.userid==this.$user().id,user:{id:t.userid,name:t.name},target:this.$getChat(t.text,t.name),raw:t};this.$debug("[chat] "+t.name,e),this.$emit("chat",e)},__onMail:function(t){let e=t.senderid,n={text:t.text,user:{id:e,name:this.$getName(e)},raw:t};this.$debug("[mail] "+name,n),this.$emit("mail",n)},__onJump:function(t){for(let e of t.user){let n={self:e.userid==this.$user().id,stat:this.__cacheJump(e.userid),user:{id:e.userid,name:e.name},raw:t};this.$debug("[jump] "+e.name,n),this.$emit("jump",n)}},__onDrop:function(t){for(let e of t.user){let n={self:e.userid==this.$user().id,stat:this.__cacheDrop(e.userid),user:{id:e.userid,name:e.name},raw:t};this.$debug("[drop] "+e.name,n),this.$emit("drop",n)}},__onSong:function(t){this.__cacheSong(t.room.metadata);let e={curr:this.$now_playing,last:this.$last_played,self:this.$now_playing.djid==this.$user().id,name:this.$now_playing.song||"Nothing",artist:this.$now_playing.artist||"No One",raw:t};this.$debug("[song] "+e.name,e),this.$emit("song",e)},__onSnag:function(t){this.__cacheSnag();let e=t.userid,n={self:e==this.$user().id,user:{id:e,name:this.$getName(e)},raw:t};this.$debug("[snag] "+name,n),this.$emit("snag",n)},__onVote:function(t){this.__cacheVote(t.room.metadata);let e=t.room.metadata.votelog,[n,i]=e[e.length-1],o={id:n,name:this.$getName(n)},s={vote:i,user:o,raw:t};this.$debug(`[vote] ${o.name} (${i})`,s),this.$emit("vote",s)},__onJoin:function(t){for(let e of t.user){let n={user:{id:e.userid,name:e.name},raw:t};this.$debug("[join] "+e.name,n),this.$emit("join",n)}},__onLeft:function(t){for(let e of t.user){let n={user:{id:e.userid,name:e.name},raw:t};this.$debug("[left] "+e.name,n),this.$emit("left",n)}},__listen(t){let e=t.command;if(t.command)return"speak"==e?this.__onChat(t):"pmmed"==e?this.__onMail(t):"add_dj"==e?this.__onJump(t):"rem_dj"==e?this.__onDrop(t):"nosong"==e||"newsong"==e?this.__onSong(t):"snagged"==e?this.__onSnag(t):"update_votes"==e?this.__onVote(t):"deregistered"==e?this.__onLeft(t):"registered"==e?this.__onJoin(t):(this.$debug("Unhandled: "+e,t),this.$emit(name,{raw:t}))},__bindListener(){this.__listener=this.__listen.bind(this),window.turntable.addEventListener("message",this.__listener)}},...{__onList:function(){this.__listDelay&&(clearTimeout(this.__listDelay),delete this.__listDelay),this.__listDelay=setTimeout(function(){let t=window.playlist.fileids,e=window.playlist.activePlaylist,n={name:e,list:t};this.$debug("[list]: "+e,n),this.$emit("list",n)}.bind(this),500)},__onText:function(t){let e={target:$(t)};this.$emit("text",e)},__onType:function(){this.$emit("type")},__onUser:function(t){let e={user:{id:t,name:this.$getName(t)}};this.$emit("user",e)},__mutate(t){for(let e of t){let t=e.target,n=t.className,i="TITLE"==t.nodeName,o=t.baseURI.indexOf("profile/")>0;if("songs"==n)return this.__onList();if("messages"==n)return this.__onText(t);if("typeahead"==n)return this.__onType();if(i&&o){let e=t.baseURI.split("profile/")[1];return this.__onUser(e)}}},__escape(t){"Escape"==t.key&&this.$emit("esc")},__bindMutation(){let t=window.MutationObserver;t||(t=window.WebKitMutationObserver),this.__mutation=new t(this.__mutate.bind(this)),this.__mutation.observe(document,{subtree:!0,childList:!0}),this.__escaping=this.__escape.bind(this),$(document).on("keyup",this.__escaping)}},...{__beat:0,__looped(){this.__beat+=1;let t={beat:this.__beat};this.$emit("loop",t)},__bindLooped(){let t=this.__looped.bind(this);this.__loop=setInterval(t,6e4)}},...{$now_playing:{},$last_played:{},$current_djs:{},__cacheSong(t){this.$last_played={...this.$now_playing};let e=t.current_song,n=this.$last_played;if(this.$now_playing=e?{...e.metadata,djid:e.djid,snag:0,love:t.upvotes,hate:t.downvotes}:{none:!0},n.song&&n.djid){let t=this.$current_djs[n.djid];t&&n.love&&(t.love+=n.love),t&&n.hate&&(t.hate+=n.hate),t&&n.snag&&(t.snag+=n.snag),t&&(t.spun+=1)}},__cacheRoom(t){for(let e of t.djs)this.__cacheJump(e);this.__cacheSong(t)},__cacheJump(t){let e=this.$current_djs[t];return this.$current_djs[t]=e||{spun:0,love:0,hate:0,snag:0},this.$current_djs[t]},__cacheDrop(t){let e=this.$current_djs[t],n=!!e&&{...e};return n&&delete this.$current_djs[t],n},__cacheVote(t){this.$now_playing.love=t.upvotes,this.$now_playing.hate=t.downvotes},__cacheSnag(){this.$now_playing.snag+=1}},...W,...{$notify({head:t,text:e,type:n,icon:i}){if(!t||!e)return;if(!this.__canNotify()||document.hasFocus())return;let o=()=>{i=i||this.icon||"";let n=new Notification(t,{body:e,icon:i});n.onclick=()=>{window.focus(),n.close()}};n?this.__delayNotify(o,n):o()},$bully(t){this.$post(t),this.$notify(t)},__canNotify(){return!(!1 in window||"denied"==Notification.permission||"default"==Notification.permission&&(this.$print("Requesting Notification Permissions"),Notification.requestPermission(),1))},__delayNotify(t,e){return this._holding||(this._holding={}),!this._holding[e]&&(this._holding[e]=setTimeout((()=>{delete this._holding[e]}).bind(this),5e3),t())}},...K,...Y,...{$attach(){if(!this.__loadCore())return!1;if(!this.__loadRoom())return this.__reattach();let[t,e]=this.__attached();this.$print(`Attached to ${t} (${e} Users)`),this.$emit("attach",{room:this.$room()})},$detach(){this.$debug("Detaching..."),clearInterval(this.__loop),this.__mutation.disconnect(),$(document).off("keyup",this.__escaping),this.$core.removeEventListener("message",this.__listener),this.$print("Detached")},__attached(){return this.__bindLooped(),this.__bindMutation(),this.__bindListener(),this.__cacheRoom(this.$room().metadata),[this.$room().name,this.$view().numListeners()]},__reattach(){let t=this.$attach.bind(this);return setTimeout(t,200)}}};let Z=window.localStorage.getItem("tsData"),tt=window.localStorage.getItem("tsSync"),et=window.localStorage.getItem("tsBase");window.localStorage.removeItem("tsBase"),window.localStorage.removeItem("tsSync"),tt&&"undefined"!=tt||(tt="{}"),Z&&"undefined"!=Z||(Z="{}");let nt=window.$ts=new class{constructor(t={}){Object.assign(this,t),this.api_version=O,this.name||(this.name=I),this.label||(this.label="TBA"),function(t,e){for(let[n,i]of Object.entries(t))e[n]=i.bind?i.bind(e):i}(X,this),this.$debug("Initialized")}}({base:et,data:Z,sync:tt,name:"turnStyles",label:"TS",icon:et+"/images/icon128.png",version:"12.0.0-beta.5"});var it;(t=>{t.default=E({}),t.options=N({}),t.static=R({}),t.patrons=B({});const e=L({});t.twitchMap=new Map(e.twitch),t.bttvMap=new Map(e.bttv),q({})(t),D({})(t),A({})(t),M({})(t),C({})(t),T({})(t),j({})(t),S({})(t),g({})(t),p({})(t)})(nt),it=nt,b({})(it),f({})(it),u({})(it),d({})(it),c({})(it),h({})(it),l({})(it),r({})(it),a({})(it),s({})(it),o({})(it),i({})(it),n({})(it),e({})(it),et?nt.$attach():nt.Update()}();